import db from '../models/mongoose.js';

import Review from '../models/Review.js';

const userController = {

    
    addReview: async function (req, res) {
        const { rate, 'form-gender': gender, 'form-chkbx': amenities, 'form-date': date, 'form-review-title': title, 'form-review': review } = req.body;

        const newReview = new Review({
          rate,
          gender,
          amenities,
          date: new Date(date), 
          title,
          review
        });
      
        try {
          await newReview.save();
          console.log(newReview);
      
          res.redirect('/success'); 
        } catch (error) {
          console.error('Error creating review:', error);
          res.status(500).send('Server error');
        }
    }


}

export default userController;
